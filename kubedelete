#!/bin/bash

#-------------------------------------------------------------------------------
#
# k-delete-all-ns
#
# Description:
#   This function completely deletes all resources within a specified
#   Kubernetes namespace. It is a powerful and destructive script.
#
#   The script first discovers all deletable, namespaced API resources
#   and then iterates through them to delete everything within the
#   target namespace.
#
# Usage:
#   k-delete-all-ns <namespace>
#
# Arguments:
#   $1 - The name of the Kubernetes namespace to wipe. This is a required
#        argument.
#
# Example:
#   k-delete-all-ns my-test-namespace
#
# Important:
#   ⚠️  This is a highly destructive action and is IRREVERSIBLE. ⚠️
#   It will permanently delete all deployments, services, pods, secrets,
#   configmaps, PVCs, and all other resources within the namespace.
#   Always double-check the namespace before confirming.
#
#-------------------------------------------------------------------------------
k-delete-all-ns() {
  # --- Argument Validation ---
  # Check if a namespace argument was provided. If not, print an error
  # and exit the function with a non-zero status code.
  if [ -z "$1" ]; then
    echo "Error: Please provide a namespace."
    return 1
  fi

  # --- Confirmation Prompt ---
  # Prompt the user for explicit confirmation before proceeding.
  # The `read` command waits for user input.
  # -p: Displays the prompt string.
  # -n 1: Reads only one character.
  # -r: Prevents backslashes from being interpreted.
  read -p "Are you sure you want
